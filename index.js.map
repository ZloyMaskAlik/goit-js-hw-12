{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const PIXABAY_API_KEY = '48326297-b9ec83e241adf6514f2254162';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = searchedQuery => {\n  const pixabayParams = new URLSearchParams({\n    key: PIXABAY_API_KEY,\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: false,\n    per_page: 33,\n  });\n    return fetch(`${BASE_URL}?${pixabayParams.toString()}`)\n    .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};","export const createImageTemplate = image => {\n    return `\n    <li class=\"gallery-item js-item-card\">\n       <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n       <img\n         class=\"gallery-image\"\n         src=\"${image.webformatURL}\"\n         data-source=\"${image.largeImageUR}\"\n         alt=\"${image.tags}\"\n        />\n        </a>\n        <div class=\"image-info\">\n                <p class=\"image-info-item\"><b>Likes</b>\n                ${image.likes}\n                </p>\n                <p class=\"image-info-item\">\n                <b>Views</b>\n                ${image.views}\n                </p>\n                <p class=\"image-info-item\">\n                <b>Comments</b>\n                ${image.comments}\n                </p>\n                <p class=\"image-info-item\">\n                <b>Downloads</b>\n                ${image.downloads}\n                </p>\n        </div>\n    </li>\n    `;\n};","import SimpleLightbox from \"simplelightbox\";\nimport iziToast from \"izitoast\";\n\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { createImageTemplate } from \"./js/render-functions\";\n\nlet lightbox = new SimpleLightbox(`.js-images a`, { captionsData: `alt`, captionDelay: 250 });\n\nconst searchFormEl = document.querySelector (`.js-search-form`)\nconst galleryImages = document.querySelector(`.js-images`);\nconst loaderIcon = document.querySelector('.loader');\n\nconst toggleLoader = () => {\n  loaderIcon.classList.toggle('is-hidden');\n};\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    const searchedQuery = event.currentTarget.elements.query.value.trim();\n    if (searchedQuery === ``) {\n        return;\n    }\n\n    galleryImages.innerHTML = '';\n\n     toggleLoader();\n\n    fetchImages(searchedQuery)\n    \n    .then(data => {\n        \n      toggleLoader();\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n        const createImagesTemplate = data.hits.map( item => createImageTemplate(item)).join(``);\n        galleryImages.innerHTML = createImagesTemplate;\n        \n        lightbox.refresh();\n        searchFormEl.reset();\n    })\n    \n    .catch(error => {\n      toggleLoader();\n      console.log(error);\n      iziToast.error({\n        message: `${error}`,\n        position: 'topRight',\n      });\n});\n}\n\nsearchFormEl.addEventListener(`submit`, onSearchFormSubmit);\n\n"],"names":["PIXABAY_API_KEY","BASE_URL","fetchImages","searchedQuery","pixabayParams","response","createImageTemplate","image","lightbox","SimpleLightbox","searchFormEl","galleryImages","loaderIcon","toggleLoader","onSearchFormSubmit","event","data","iziToast","createImagesTemplate","item","error"],"mappings":"6vBAAA,MAAMA,EAAkB,qCAClBC,EAAW,2BAEJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAgB,IAAI,gBAAgB,CACxC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EACC,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAc,SAAU,CAAA,EAAE,EACrD,KAAKC,GAAY,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAAsBC,GACxB;AAAA;AAAA,uCAE4BA,EAAM,aAAa;AAAA;AAAA;AAAA,gBAG1CA,EAAM,YAAY;AAAA,wBACVA,EAAM,YAAY;AAAA,gBAC1BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKRA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,kBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,kBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,MCnBjC,IAAIC,EAAW,IAAIC,EAAe,eAAgB,CAAE,aAAc,MAAO,aAAc,GAAK,CAAA,EAE5F,MAAMC,EAAe,SAAS,cAAe,iBAAiB,EACxDC,EAAgB,SAAS,cAAc,YAAY,EACnDC,EAAa,SAAS,cAAc,SAAS,EAE7CC,EAAe,IAAM,CACzBD,EAAW,UAAU,OAAO,WAAW,CACzC,EAGME,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EACpB,MAAMZ,EAAgBY,EAAM,cAAc,SAAS,MAAM,MAAM,OAC3DZ,IAAkB,KAItBQ,EAAc,UAAY,GAEzBE,IAEDX,EAAYC,CAAa,EAExB,KAAKa,GAAQ,CAIZ,GAFAH,IAEIG,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACC,MAAMC,EAAuBF,EAAK,KAAK,IAAKG,GAAQb,EAAoBa,CAAI,CAAC,EAAE,KAAK,EAAE,EACtFR,EAAc,UAAYO,EAE1BV,EAAS,QAAO,EAChBE,EAAa,MAAK,CAC1B,CAAK,EAEA,MAAMU,GAAS,CACdP,IACA,QAAQ,IAAIO,CAAK,EACjBH,EAAS,MAAM,CACb,QAAS,GAAGG,CAAK,GACjB,SAAU,UAClB,CAAO,CACP,CAAC,EACD,EAEAV,EAAa,iBAAiB,SAAUI,CAAkB"}